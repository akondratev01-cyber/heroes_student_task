# Heroes Battle - итоговый проект по курсу "Алгоритмы и структуры данных"
Проект реализует 4 интерфейса из задания и предназначен для подстановки в игру **Heroes Battle** через `obf.jar`.

## Реализованные компоненты

- `GeneratePresetImpl` — генерация пресета армии компьютера:
    - подбор юнитов по эффективности (атака/стоимость, затем здоровье/стоимость);
    - ограничение: не более 11 юнитов каждого типа;
    - итоговая стоимость армии не превышает `maxPoints`;
    - размещение юнитов в 3 колонках (x=0..2) выполняется случайно без пересечений.


- `SuitableForAttackUnitsFinderImpl` — отбор целей для атаки:
    - цель считается подходящей, если она не «прикрыта» соседом в соседней клетке по координате `y`.


- `UnitTargetPathFinderImpl` — поиск кратчайшего пути к цели:
    - BFS по полю 27×21, разрешены диагональные ходы;
    - препятствия — клетки, занятые живыми юнитами;
    - если путь не найден, возвращается пустой список.


- `SimulateBattleImpl` — симуляция боя:
    - раунды с сортировкой живых юнитов по убыванию атаки;
    - поочерёдное выполнение ходов сторонами (чередование);
    - логирование атак (если задан `PrintBattleLog`) и удаление погибших юнитов.


## Алгоритмическая сложность (как считать)

Обозначения:
- N - количество типов юнитов (вариантов в библиотеке);
- U - количество юнитов на поле (живых) в текущий момент;
- WxH - размер поля (в игре 27×21).


### GeneratePresetImpl
Используется сортировка типов юнитов по эффективности (атака/стоимость, затем здоровье/стоимость),
после чего происходит добор юнитов до ограничения по очкам и лимитам.


Сложность:
- сортировка: O(N log N)
- добор юнитов: O(U) (U ограничено лимитами, фактически константа)
  Итого: O(N log N)


### SuitableForAttackUnitsFinderImpl
Для каждой потенциальной цели проверяются соседние клетки по координате `y` (константное число проверок).

Сложность: O(U)

### UnitTargetPathFinderImpl
Поиск пути BFS по сетке W×H с учётом препятствий.

Сложность: O(W·H) (в общем виде O(V+E), для сетки V≈W·H)

### SimulateBattleImpl
Бой идёт раундами: на каждом раунде живые юниты сортируются по атаке и по очереди совершают действия.

Сложность на раунд: O(U log U) (сортировка) + O(U) (ходы)
Итого: O(U log U) на раунд (при уменьшении U со временем фактически быстрее).

## Как собрать 'obf.jar' в IntelliJ IDEA

1. Открыть проект в IntelliJ IDEA.
2. `File` → `Project Structure` → `Artifacts`:
   - убедиться, что существует артефакт `obf.jar`;
   - в содержимое артефакта добавлен output модуля и зависимости (включая `heroes_task_lib`).
3. `Build` → `Build Artifacts...` → `obf.jar → Build`.
4. Полученный файл будет доступен в папке `artifacts/obf.jar`.

## Как проверить в игре Heroes Battle

1. Скопировать, собранный 'obf.jar' в папку `heroes/jars/obf.jar` (с заменой).
2. Запустить игру через консоль, командой:
```bash
   java -jar "Heroes Battle-1.0.0.jar"
```